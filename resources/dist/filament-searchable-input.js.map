{"version":3,"file":"filament-searchable-input.js","sources":["../js/components/searchable-input.js"],"sourcesContent":["// noinspection JSUnusedGlobalSymbols,JSUnresolvedReference\n\nexport default function searchableInput({key, statePath}) {\n    return {\n        previous_value: null,\n        value: this.$wire.entangle(statePath),\n        suggestions: [],\n        selected_suggestion: 0,\n        refresh_suggestions: function() {\n            if (this.value === this.previous_value) {\n                return\n            }\n\n            if (!this.value) {\n                this.suggestions = []\n                this.previous_value = null\n                return\n            }\n\n            this.previous_value = this.value\n\n            // noinspection JSPotentiallyInvalidUsageOfThis\n            this.$wire.callSchemaComponentMethod(key, 'getSearchResultsForJs', { search: this.value })\n                .then(response => {\n                    this.suggestions = response\n                    this.selected_suggestion = 0\n                })\n        },\n        set: function(item) {\n            if (item === undefined) {\n                return\n            }\n\n            this.value = item.value\n            this.suggestions = []\n\n            // noinspection JSPotentiallyInvalidUsageOfThis\n            this.$wire.callSchemaComponentMethod(key, 'reactOnItemSelectedFromJs', { item: item })\n        },\n        previous_suggestion() {\n            this.selected_suggestion--\n\n            if (this.selected_suggestion < 0) {\n                this.selected_suggestion = 0\n            }\n        },\n        next_suggestion() {\n            this.selected_suggestion++\n\n            if (this.selected_suggestion > this.suggestions.length - 1) {\n                this.selected_suggestion = this.suggestions.length - 1\n            }\n        },\n    }\n}\n"],"names":["searchableInput","key","statePath","response","item"],"mappings":"AAEe,SAASA,EAAgB,EAAC,KAAAC,GAAK,WAAAC,EAAS,GAAG;AACtD,SAAO;AAAA,IACH,gBAAgB;AAAA,IAChB,OAAO,KAAK,MAAM,SAASA,CAAS;AAAA,IACpC,aAAa,CAAA;AAAA,IACb,qBAAqB;AAAA,IACrB,qBAAqB,WAAW;AAC5B,UAAI,KAAK,UAAU,KAAK,gBAIxB;AAAA,YAAI,CAAC,KAAK,OAAO;AACb,eAAK,cAAc,CAAA,GACnB,KAAK,iBAAiB;AACtB;AAAA,QACJ;AAEA,aAAK,iBAAiB,KAAK,OAG3B,KAAK,MAAM,0BAA0BD,GAAK,yBAAyB,EAAE,QAAQ,KAAK,MAAK,CAAE,EACpF,KAAK,CAAAE,MAAY;AACd,eAAK,cAAcA,GACnB,KAAK,sBAAsB;AAAA,QAC/B,CAAC;AAAA;AAAA,IACT;AAAA,IACA,KAAK,SAASC,GAAM;AAChB,MAAIA,MAAS,WAIb,KAAK,QAAQA,EAAK,OAClB,KAAK,cAAc,CAAA,GAGnB,KAAK,MAAM,0BAA0BH,GAAK,6BAA6B,EAAE,MAAMG,EAAI,CAAE;AAAA,IACzF;AAAA,IACA,sBAAsB;AAClB,WAAK,uBAED,KAAK,sBAAsB,MAC3B,KAAK,sBAAsB;AAAA,IAEnC;AAAA,IACA,kBAAkB;AACd,WAAK,uBAED,KAAK,sBAAsB,KAAK,YAAY,SAAS,MACrD,KAAK,sBAAsB,KAAK,YAAY,SAAS;AAAA,IAE7D;AAAA,EACR;AACA;"}